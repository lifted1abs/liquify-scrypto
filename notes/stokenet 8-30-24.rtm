Minting owner badge
Your resource was created! ðŸŽ‰
Transaction ID: txid_tdx_2_104fqrrnjp4kvet6d60e7udawcpvrm47mtskpn7ktyw3n66davgasxn4fhh
Resource address: resource_tdx_2_1t44x9flkp8np5epw0x6jw9y29pesrpjzwenjsh59trrj6zn6k62tcz


Your package was submitted! ðŸŽ‰
Transaction ID: txid_tdx_2_1vpclxkvv0aec9z08v739dz3jyg4q52tsgnrk7d0s5y48xd2avu2qfxm76n
Package address: package_tdx_2_1p4y2428sfm3uc9vav3ndset8qwjtt2496v92l4w360uv6ev8lycsh9

# instantiate new raffle_manager component

CALL_FUNCTION
    Address("package_tdx_2_1p4y2428sfm3uc9vav3ndset8qwjtt2496v92l4w360uv6ev8lycsh9")
    "Liquify"
    "instantiate_liquify"
;
CALL_METHOD
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP")
;

Your transaction was submitted! ðŸŽ‰
Tx ID
txid_tdx_2_1c8m2af4temh3qagthrafng8nv0xqpjsd2dtmcqlzhrug9axjlg3scjh4e0

// liquify component address
component_tdx_2_1cram3atwlkqt62v2jqfk36djvsq4l8d4mdx6v2dd9yen97ruyjcvhc
// liquify owner badge address
resource_tdx_2_1t404p8k9uveyu22tcafyr2ypnla4s9xq73wwv24jaup5ruumt26yhx
// buy order address
resource_tdx_2_1nf4cyq2emzgwuuhmmls9urvh2cj3rcfdaywlkt2fwjyyy9mw9dty85



add_liquidity -> 1000 xrd at 0.1% discount

CALL_METHOD
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "withdraw"
    Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc") 
    Decimal("1000") 
;
TAKE_ALL_FROM_WORKTOP
    Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc")
    Bucket("xrd_bucket")
;
CALL_METHOD
    Address("component_tdx_2_1cram3atwlkqt62v2jqfk36djvsq4l8d4mdx6v2dd9yen97ruyjcvhc")
    "add_liquidity"
    Bucket("xrd_bucket")
    Decimal("0.001")
    true
;
CALL_METHOD
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP")
;

Your transaction was submitted! ðŸŽ‰
Tx ID
txid_tdx_2_1dpekqrkphp9kkxgx9rcuse045yrz3lg0h0jnjugd3e9zxtgmzymq74kxg3

add_liquidity -> 1000 xrd at .5% discount

CALL_METHOD
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "withdraw"
    Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc") 
    Decimal("1000") 
;
TAKE_ALL_FROM_WORKTOP
    Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc")
    Bucket("xrd_bucket")
;
CALL_METHOD
    Address("component_tdx_2_1cram3atwlkqt62v2jqfk36djvsq4l8d4mdx6v2dd9yen97ruyjcvhc")
    "add_liquidity"
    Bucket("xrd_bucket")
    Decimal("0.005")
    true
;
CALL_METHOD
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP")
;

Your transaction was submitted! ðŸŽ‰
Tx ID
txid_tdx_2_1qgkslu9ttck3nvpmgnv5wrnpjuv5wdewxq6a07z9zcw2hgskkcwsl7evs8

add_liquidity -> 1000 xrd at 1% discount

CALL_METHOD
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "withdraw"
    Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc") 
    Decimal("1000") 
;
TAKE_ALL_FROM_WORKTOP
    Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc")
    Bucket("xrd_bucket")
;
CALL_METHOD
    Address("component_tdx_2_1cram3atwlkqt62v2jqfk36djvsq4l8d4mdx6v2dd9yen97ruyjcvhc")
    "add_liquidity"
    Bucket("xrd_bucket")
    Decimal("0.01")
    true
;
CALL_METHOD
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP")
;

Your transaction was submitted! ðŸŽ‰
Tx ID
txid_tdx_2_1qx02mcu0psn9e6l2qa3pkkzpjqg0e4wmt4yrnqzx8rpee8dax6cq9p9fj9



market_sell => PUBLIC

CALL_METHOD
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "withdraw"
    Address("resource_tdx_2_1t5wwm4n6etcd6pxxfgnr5d0v9vd06qkruu74vx4tneu2jp7k27v3fm") 
    Decimal("100") 
;
TAKE_ALL_FROM_WORKTOP
    Address("resource_tdx_2_1t5wwm4n6etcd6pxxfgnr5d0v9vd06qkruu74vx4tneu2jp7k27v3fm")
    Bucket("lsu_bucket")
;
CALL_METHOD
    Address("component_tdx_2_1cram3atwlkqt62v2jqfk36djvsq4l8d4mdx6v2dd9yen97ruyjcvhc")
    "market_sell"
    Bucket("lsu_bucket")
;
CALL_METHOD
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP")
;

Your transaction was submitted! ðŸŽ‰
Tx ID
txid_tdx_2_1rv64w3a3g5ckgs3ylz8vv8h4t57myt48efv3dtu0hmd8ug6du5nsqpamf0


collect fills from nft 1

CALL_METHOD
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "withdraw_non_fungibles"
    Address("resource_tdx_2_1nf4cyq2emzgwuuhmmls9urvh2cj3rcfdaywlkt2fwjyyy9mw9dty85")
    Array<NonFungibleLocalId>(
        NonFungibleLocalId("#1#")
    )
;
TAKE_ALL_FROM_WORKTOP
    Address("resource_tdx_2_1nf4cyq2emzgwuuhmmls9urvh2cj3rcfdaywlkt2fwjyyy9mw9dty85")
    Bucket("liquidity_receipt_bucket")
;
CALL_METHOD
    Address("component_tdx_2_1cram3atwlkqt62v2jqfk36djvsq4l8d4mdx6v2dd9yen97ruyjcvhc")
    "collect_fills"
    Bucket("liquidity_receipt_bucket")
;
CALL_METHOD
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP")
;


still not working to collect fills



remove_liquidity => PUBLIC

CALL_METHOD
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "withdraw_non_fungibles"
    Address("resource_tdx_2_1nf4cyq2emzgwuuhmmls9urvh2cj3rcfdaywlkt2fwjyyy9mw9dty85")
    Array<NonFungibleLocalId>(
        NonFungibleLocalId("#4#")
    )
;
TAKE_ALL_FROM_WORKTOP
    Address("resource_tdx_2_1nf4cyq2emzgwuuhmmls9urvh2cj3rcfdaywlkt2fwjyyy9mw9dty85")
    Bucket("liquidity_receipt_bucket")
;
CALL_METHOD
    Address("component_tdx_2_1cram3atwlkqt62v2jqfk36djvsq4l8d4mdx6v2dd9yen97ruyjcvhc")
    "remove_liquidity"
    Bucket("liquidity_receipt_bucket")
;
CALL_METHOD
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP")
;




























################################ FRONT END RTMS ################################

add_liquidity => PUBLIC

CALL_METHOD
    # Selected account address from dropdown associated with persona
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "withdraw"
    # Static address for XRD
    Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc") 
    # Connect this Decimal field to slider
    Decimal("1000") 
;
TAKE_ALL_FROM_WORKTOP
    # Static XRD Address
    Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc")
    Bucket("xrd_bucket")
;
CALL_METHOD
    # Static Liquify component address
    Address("component_tdx_2_1cram3atwlkqt62v2jqfk36djvsq4l8d4mdx6v2dd9yen97ruyjcvhc")
    "add_liquidity"
    Bucket("xrd_bucket")
    # Connect this decimal to discount % slider
    Decimal("0.01")
    true
;
CALL_METHOD
    # Selected account address from dropdown associated with persona
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP")
;

remove_liquidity => PUBLIC

CALL_METHOD
    # Selected account address from dropdown associated with persona
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "withdraw_non_fungibles"
    # Static address for liquidity_receipt NFT
    Address("resource_tdx_2_1nf4cyq2emzgwuuhmmls9urvh2cj3rcfdaywlkt2fwjyyy9mw9dty85")
    # Connect this NFT ID selection a button in the "Your Orders" section
    Array<NonFungibleLocalId>(
        NonFungibleLocalId("#1#")
    )
;
TAKE_ALL_FROM_WORKTOP
    # Static address for liquidity_receipt NFT
    Address("resource_tdx_2_1nf4cyq2emzgwuuhmmls9urvh2cj3rcfdaywlkt2fwjyyy9mw9dty85")
    Bucket("liquidity_receipt_bucket")
;
CALL_METHOD
    # Static Liquify component address
    Address("component_tdx_2_1cram3atwlkqt62v2jqfk36djvsq4l8d4mdx6v2dd9yen97ruyjcvhc")
    "remove_liquidity"
    Bucket("liquidity_receipt_bucket")
;
CALL_METHOD
    # Selected account address from dropdown associated with persona
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP")
;

market_sell => PUBLIC

CALL_METHOD
    # Selected account address from dropdown associated with persona
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "withdraw"
    # Connect this to dropdown selection of LSUs owned by selected account
    Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc") 
    # Connect this Decimal field to slider to select amount of LSUs to sell
    Decimal("100") 
;
TAKE_ALL_FROM_WORKTOP
    # Match the address being withdrawn above
    Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc")
    Bucket("lsu_bucket")
;
CALL_METHOD
    # Static Liquify component address
    Address("component_tdx_2_1cram3atwlkqt62v2jqfk36djvsq4l8d4mdx6v2dd9yen97ruyjcvhc")
    "market_sell"
    Bucket("lsu_bucket")
;
CALL_METHOD
    # Selected account address from dropdown associated with persona
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP")
;

collect_fills => PUBLIC to be used with "Collect Fills" button in "Your Orders" section

CALL_METHOD
    # Selected account address from dropdown associated with persona
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "withdraw_non_fungibles"
    # Static address for liquidity_receipt NFT
    Address("resource_tdx_2_1nf0nlf9upwf7d429u962qa6w9kstx8fa0qyw7j7vmthnvzqpw6kqcw")
    # Connect this NFT ID selection a button in the "Your Orders" section
    Array<NonFungibleLocalId>(
        NonFungibleLocalId("#1#")
    )
;
TAKE_ALL_FROM_WORKTOP
    # Static address for liquidity_receipt NFT
    Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc")
    Bucket("liquidity_receipt_bucket")
;
CALL_METHOD
    # Static Liquify component address
    Address("component_tdx_2_1cram3atwlkqt62v2jqfk36djvsq4l8d4mdx6v2dd9yen97ruyjcvhc")
    "collect_fills"
    Bucket("liquidity_receipt_bucket")
;
CALL_METHOD
    # Selected account address from dropdown associated with persona
    Address("account_tdx_2_129z7yju29wkvgm5fmcuuvaeqmfh9cvnl78s6jxu4f5kgurykkwt8tx")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP")
;
